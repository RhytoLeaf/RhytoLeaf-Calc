<!DOCTYPE html>
<html>

<head>
    <title>RhytoLeaf Calc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="logo-icon.png">
</head>

<body class="bg-gray-800 text-white flex items-center justify-center h-screen font-sans">
    <img src="logo-icon.png" alt="Logo" class="absolute top-4 left-1/2 transform -translate-x-1/2 w-10 h-10">
    <div class="square text-center">
        <div class="calculator bg-gradient-to-b from-blue-700 to-blue-900 p-5 rounded-lg shadow-lg">
            <div>
                <button class="toggle-button bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded mb-2" onclick="toggleScientific()">Scientific</button>
                <button class="toggle-button bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded mb-2" onclick="toggleGraphing()">Graphing</button>
            </div>
            <input type="text" id="result" class="w-full text-2xl mb-2 p-1 bg-gray-900 text-white rounded" disabled>
            <div class="buttons grid grid-cols-4 gap-1">
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('7')">7</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('8')">8</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('9')">9</button>
                <button class="operator bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded" onclick="appendValue('+')">+</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('4')">4</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('5')">5</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('6')">6</button>
                <button class="operator bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded" onclick="appendValue('-')">-</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('1')">1</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('2')">2</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('3')">3</button>
                <button class="operator bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded" onclick="appendValue('*')">*</button>
                <button class="number bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-4 rounded" onclick="appendValue('0')">0</button>
                <button class="operator bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded" onclick="appendValue('/')">/</button>
                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded" onclick="clearAll()">CLEAR</button>
                <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded" onclick="clearAll()">CLEAR ALL</button>
            </div>
            <div class="equals-button-row grid grid-cols-1 mt-1">
                <button class="operator bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded" onclick="calculate()">=</button>
            </div>
            <div class="scientific-buttons hidden grid grid-cols-4 gap-1 mt-2" id="scientific-buttons">
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('Math.sin(')">sin</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('Math.cos(')">cos</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('Math.tan(')">tan</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('Math.log(')">log</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('Math.sqrt(')">âˆš</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('**')">^</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue('(')">(</button>
                <button class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded" onclick="appendValue(')')')'>)</button>
            </div>
            <div class="graphing-calculator hidden mt-2" id="graphing-calculator">
                <input type="text" id="equation" class="w-full text-black mb-2 p-1 rounded" placeholder="Enter equation (e.g., x**2)" value="x+3">
                <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded" onclick="plot()">Plot</button>
                <canvas id="myChart"></canvas>
            </div>
        </div>

        <br><br>

        <div id="coming-soon-modal" class="modal hidden fixed z-10 left-0 top-0 w-full h-full overflow-auto bg-black bg-opacity-40">
            <div class="modal-content bg-white mx-auto mt-1/6 p-5 border border-gray-400 w-4/5 rounded-lg">
                <span class="close-button text-gray-400 float-right text-2xl font-bold hover:text-black focus:text-black cursor-pointer" onclick="closeModal()">&times;</span>
                <p class="text-black">Coming Soon!</p>
            </div>
        </div>

        <footer class="footer fixed bottom-0 left-0 w-full text-gray-300 p-2 text-center" id="footer">
            RhytoLeaf Inc. &copy; 2023. All rights reserved.
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
let equation = '';
const resultElement = document.getElementById('result');
const scientificButtons = document.getElementById('scientific-buttons');
const graphingCalculator = document.getElementById('graphing-calculator');
const footer = document.getElementById('footer');

footer.innerHTML = `RhytoLeaf Inc. &copy; ${new Date().getFullYear()}. All rights reserved.`;

function appendValue(value) {
  equation += value;
  resultElement.value = equation;
}

function calculate() {
  try {
    const result = eval(equation);
    equation = result.toString();
    resultElement.value = result;
  } catch (error) {
    resultElement.value = 'Error';
    equation = '';
  }
}

function clearAll() {
  equation = '';
  resultElement.value = '';
}

function toggleScientific() {
  scientificButtons.classList.toggle('hidden');
  graphingCalculator.classList.add('hidden');
}

function toggleGraphing() {
  const modal = document.getElementById('coming-soon-modal');
  modal.classList.remove('hidden');
}

function closeModal() {
    const modal = document.getElementById('coming-soon-modal');
    modal.classList.add('hidden');
}

let myChart;

function plot() {
    const equationInput = document.getElementById('equation').value;
    const canvas = document.getElementById('myChart');
    const ctx = canvas.getContext('2d');

    if (myChart) {
        myChart.destroy();
    }

    const xValues = [];
    const yValues = [];

    for (let x = -20; x <= 20; x += 0.5) {
        xValues.push(x);
        try {
            const y = eval(equationInput.replace(/x/g, x));
            yValues.push(y);
        } catch (error) {
            yValues.push(null);
        }
    }

    myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: xValues,
            datasets: [{
                label: `y = ${equationInput}`,
                data: yValues,
                borderColor: 'blue',
                fill: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            aspectRatio: 1
        }
    });
}
</script>
</body>

</html>